<html lang="en" dir="ltr">

  <head>
    <meta charset="utf-8">
    <title>Edit Profile</title>
  </head>
  <body>
    <h2>Edit Profile</h2>
    <form action="http://3.83.252.232:3001/driver/edit" method="post">
      <label for="first">First Name</label>
      <input type="text" name="first" value="first">
      <label for="mi_name">Middle Initial</label>
      <input type="text" name="middle" value="mi">
      <label for="last_name">Last Name</label>
      <input type="text" name="last" value="last"><br>
      <label for="username">Username</label>
      <input type="text" name="username" value="username"><br>
      <label for="email">Email Address</label>
      <input type="text" name="email" value="email"><br>
      <label for="phone">Phone Number</label>
      <input type="text" name="phone" value="phone"><br>
      <label for="shipping">Shipping Address</label>
      <input type="text" name="address" value="shipping"><br>
      <button type="submit" name="save">Save</button>
      <button type="button" name="cancel">Cancel</button>
    </form>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript"charset="utf-8">
      let getURL = "http://3.83.252.232:3001/user/" + getCookie("username");
      $.ajax({
        type: "GET",
        url: getURL,
        success: function (data) {
          data = data[0];
          document.getElementById("first").value = "" + data["first"];
          document.getElementById("middle").value = data["middle"];
          document.getElementById("last").value = data["last"];
          document.getElementById("username").value = data["username"];
          document.getElementById("email").value = data["email"];
          document.getElementById("phone").value = data["phone"];
          document.getElementById("address").value = data["address"];
        }
      });

      function getCookie(cname) {
        var name = cname + "=";
        var decodedCookie = decodeURIComponent(document.cookie);
        var ca = decodedCookie.split(';');
        for(var i = 0; i <ca.length; i++) {
          var c = ca[i];
          while (c.charAt(0) == ' ') {
            c = c.substring(1);
          }
          if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
          }
        }
        return "";
        }

    </script>
  </body>
</html>
