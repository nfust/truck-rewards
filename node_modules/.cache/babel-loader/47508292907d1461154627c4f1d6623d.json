{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useState, useCallback, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Menu from '@material-ui/core/Menu';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentFilter from '@material-ui/icons/FilterList';\nimport classnames from 'classnames';\nimport lodashGet from 'lodash/get';\nimport FilterButtonMenuItem from './FilterButtonMenuItem';\nimport Button from '../button/Button';\nvar useStyles = makeStyles({\n  root: {\n    display: 'inline-block'\n  }\n}, {\n  name: 'RaFilterButton'\n});\n\nvar FilterButton = function (_a) {\n  var filters = _a.filters,\n      displayedFilters = _a.displayedFilters,\n      filterValues = _a.filterValues,\n      showFilter = _a.showFilter,\n      classesOverride = _a.classes,\n      className = _a.className,\n      resource = _a.resource,\n      rest = __rest(_a, [\"filters\", \"displayedFilters\", \"filterValues\", \"showFilter\", \"classes\", \"className\", \"resource\"]);\n\n  var _b = useState(false),\n      open = _b[0],\n      setOpen = _b[1];\n\n  var anchorEl = useRef();\n  var classes = useStyles({\n    classes: classesOverride\n  });\n  var hiddenFilters = filters.filter(function (filterElement) {\n    return !filterElement.props.alwaysOn && !displayedFilters[filterElement.props.source] && typeof lodashGet(filterValues, filterElement.props.source) === 'undefined';\n  });\n  var handleClickButton = useCallback(function (event) {\n    // This prevents ghost click.\n    event.preventDefault();\n    setOpen(true);\n    anchorEl.current = event.currentTarget;\n  }, [anchorEl, setOpen]);\n  var handleRequestClose = useCallback(function () {\n    setOpen(false);\n  }, [setOpen]);\n  var handleShow = useCallback(function (_a) {\n    var source = _a.source,\n        defaultValue = _a.defaultValue;\n    showFilter(source, defaultValue);\n    setOpen(false);\n  }, [showFilter, setOpen]);\n  if (hiddenFilters.length === 0) return null;\n  return React.createElement(\"div\", __assign({\n    className: classnames(classes.root, className)\n  }, rest), React.createElement(Button, {\n    className: \"add-filter\",\n    label: \"ra.action.add_filter\",\n    onClick: handleClickButton\n  }, React.createElement(ContentFilter, null)), React.createElement(Menu, {\n    open: open,\n    anchorEl: anchorEl.current,\n    onClose: handleRequestClose\n  }, hiddenFilters.map(function (filterElement) {\n    return React.createElement(FilterButtonMenuItem, {\n      key: filterElement.props.source,\n      filter: filterElement.props,\n      resource: resource,\n      onShow: handleShow\n    });\n  })));\n};\n\nFilterButton.propTypes = {\n  resource: PropTypes.string.isRequired,\n  filters: PropTypes.arrayOf(PropTypes.node).isRequired,\n  displayedFilters: PropTypes.object.isRequired,\n  filterValues: PropTypes.object.isRequired,\n  showFilter: PropTypes.func.isRequired,\n  classes: PropTypes.object,\n  className: PropTypes.string\n};\nexport default FilterButton;","map":{"version":3,"sources":["/home/ubuntu/truck-rewards/node_modules/ra-ui-materialui/esm/list/FilterButton.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","useState","useCallback","useRef","PropTypes","Menu","makeStyles","ContentFilter","classnames","lodashGet","FilterButtonMenuItem","Button","useStyles","root","display","name","FilterButton","_a","filters","displayedFilters","filterValues","showFilter","classesOverride","classes","className","resource","rest","_b","open","setOpen","anchorEl","hiddenFilters","filter","filterElement","props","alwaysOn","source","handleClickButton","event","preventDefault","current","currentTarget","handleRequestClose","handleShow","defaultValue","createElement","label","onClick","onClose","map","key","onShow","propTypes","string","isRequired","arrayOf","node","object","func"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useState, useCallback, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Menu from '@material-ui/core/Menu';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentFilter from '@material-ui/icons/FilterList';\nimport classnames from 'classnames';\nimport lodashGet from 'lodash/get';\nimport FilterButtonMenuItem from './FilterButtonMenuItem';\nimport Button from '../button/Button';\nvar useStyles = makeStyles({\n    root: { display: 'inline-block' },\n}, { name: 'RaFilterButton' });\nvar FilterButton = function (_a) {\n    var filters = _a.filters, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues, showFilter = _a.showFilter, classesOverride = _a.classes, className = _a.className, resource = _a.resource, rest = __rest(_a, [\"filters\", \"displayedFilters\", \"filterValues\", \"showFilter\", \"classes\", \"className\", \"resource\"]);\n    var _b = useState(false), open = _b[0], setOpen = _b[1];\n    var anchorEl = useRef();\n    var classes = useStyles({ classes: classesOverride });\n    var hiddenFilters = filters.filter(function (filterElement) {\n        return !filterElement.props.alwaysOn &&\n            !displayedFilters[filterElement.props.source] &&\n            typeof lodashGet(filterValues, filterElement.props.source) ===\n                'undefined';\n    });\n    var handleClickButton = useCallback(function (event) {\n        // This prevents ghost click.\n        event.preventDefault();\n        setOpen(true);\n        anchorEl.current = event.currentTarget;\n    }, [anchorEl, setOpen]);\n    var handleRequestClose = useCallback(function () {\n        setOpen(false);\n    }, [setOpen]);\n    var handleShow = useCallback(function (_a) {\n        var source = _a.source, defaultValue = _a.defaultValue;\n        showFilter(source, defaultValue);\n        setOpen(false);\n    }, [showFilter, setOpen]);\n    if (hiddenFilters.length === 0)\n        return null;\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.root, className) }, rest),\n        React.createElement(Button, { className: \"add-filter\", label: \"ra.action.add_filter\", onClick: handleClickButton },\n            React.createElement(ContentFilter, null)),\n        React.createElement(Menu, { open: open, anchorEl: anchorEl.current, onClose: handleRequestClose }, hiddenFilters.map(function (filterElement) { return (React.createElement(FilterButtonMenuItem, { key: filterElement.props.source, filter: filterElement.props, resource: resource, onShow: handleShow })); }))));\n};\nFilterButton.propTypes = {\n    resource: PropTypes.string.isRequired,\n    filters: PropTypes.arrayOf(PropTypes.node).isRequired,\n    displayedFilters: PropTypes.object.isRequired,\n    filterValues: PropTypes.object.isRequired,\n    showFilter: PropTypes.func.isRequired,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n};\nexport default FilterButton;\n"]},"metadata":{},"sourceType":"module"}